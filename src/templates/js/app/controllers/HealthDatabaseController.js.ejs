import Sequelize from 'sequelize';

import databaseConfig from '../../config/database';

class HealthDatabaseController {
  async index(req, res) {
    const dbInit = new Sequelize(databaseConfig);

    try {
      await dbInit.authenticate().then(() => dbInit.close());
      return res.status(200).json({ status: 'working as expected' });
    } catch (err) {
      return res.status(200).json({ status: 'not working' });
    }
  }
}

export default new HealthDatabaseController();
